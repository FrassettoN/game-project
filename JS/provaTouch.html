<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prova Touch</title>
  </head>
  <body>
    <!-- <script src="provaTouch.js"></script> -->
    <script>
      let Vec = class Vec {
        constructor(x, y) {
          this.x = x;
          this.y = y;
        }
        plus(otherVec) {
          return new Vec(this.x + otherVec.x, this.y + otherVec.y);
        }
        times(factor) {
          return new Vec(this.x * factor, this.y * factor);
        }
      };

      function update(event) {
        directions = [];
        for (let i = 0; i < event.touches.length; i++) {
          let { pageX, pageY } = event.touches[i];
          let pos = new Vec(pageX, pageY);
          if (prevPos !== 'undefined') {
            let changedX = pos.x - prevPos.x;
            let changedY = pos.y - prevPos.y;
            if (changedY < -50) {
              directions.push('Up');
            }
            if (changedX < -50) {
              directions.push('Left');
            } else if (changedX > 50) {
              directions.push('Right');
            }
          }
          console.log(directions);
          prevPos = pos;
        }
      }
      let prevPos;
      let directions = [];
      window.addEventListener('touchstart', update);
      window.addEventListener('touchmove', update);
      window.addEventListener('touchend', update);
      const trackDirections = (keys) => {};
    </script>
  </body>
</html>
